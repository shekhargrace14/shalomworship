generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model songs {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  content          String
  creator          String[]
  credits          String
  image            String
  likes            Int
  title            String
  video            String
  views            Int
  excerpt          String
  keywords         String[]
  meta_description String
  slug             String

  categoryIds String[]   @db.ObjectId
  categories  category[] @relation(fields: [categoryIds], references: [id])

  artistIds String[] @db.ObjectId
  artists   artist[] @relation(fields: [artistIds], references: [id])

  author         user     @relation(fields: [userId], references: [id])
  userId         String   @db.ObjectId
  published_date DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model category {
  id    String  @id @default(auto()) @map("_id") @db.ObjectId
  name  String
  image String?

  songsId String[] @db.ObjectId
  songs   songs[]  @relation(fields: [songsId], references: [id])
}

model user {
  id    String  @id @default(auto()) @map("_id") @db.ObjectId
  name  String
  image String?
  songs songs[]
}

model artist {
  id    String  @id @default(auto()) @map("_id") @db.ObjectId
  name  String
  image String?

  songsId String[] @db.ObjectId
  songs   songs[]  @relation(fields: [songsId], references: [id])
}
